# Chart dependency versions (default, can be overridden per environment)
chartVersions:
  traefik: "38.0.2"

traefik:
  # Enable Gateway API support
  providers:
    kubernetesGateway:
      enabled: true

  # Configure the shared Gateway to accept HTTPRoutes from all namespaces
  gateway:
    listeners:
      web:
        # Allow HTTPRoutes from any namespace (requires ReferenceGrant)
        namespacePolicy:
          from: All
      # HTTPS listener with TLS termination
      websecure:
        port: 8443
        protocol: HTTPS
        # Wildcard hostname for staging environment (override per-environment)
        hostname: "*.staging.kubestarterkit.com"
        namespacePolicy:
          from: All
        # TLS configuration - cert-manager will create this secret
        certificateRefs:
          - name: gateway-wildcard-staging-tls
        mode: Terminate
