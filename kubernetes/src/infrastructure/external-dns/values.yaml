external-dns:
  provider:
    name: aws
  env:
    - name: AWS_DEFAULT_REGION
      value: us-east-2
  sources:
    - service
    - ingress
    - gateway-httproute
    - gateway-tcproute

  # Use sync if you want to clean up records when they are removed (keeps things tidy, but potentially destructive if something goes awry)
  # You can omit (or use upsert-only) if you dont have dynamic records being added/removed frequently and want to be a bit safer
  policy: sync

  logLevel: debug

  txtOwnerId: external-dns
  txtPrefix: _extdns.

  managedRecordTypes:
    - A
    # - AAAA # Ownership gets wonky when ipv6 is enabled...
    - CNAME

  extraArgs:
    - --aws-zone-type=public
